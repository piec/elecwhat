appId: "fr.carru.elecwhat"

# https://sharp.pixelplumbing.com/install/#electron-builder
asar: true
asarUnpack:
  - "**/node_modules/sharp/**/*"
  - "**/node_modules/@img/**/*"

linux:
  # https://www.electron.build/app-builder-lib.interface.linuxconfiguration#target
  # AppImage, flatpak, snap, deb, rpm, freebsd, pacman, p5p, apk, 7z, zip, tar.xz, tar.lz, tar.gz, tar.bz2, dir.
  target:
    - AppImage
    - pacman
    - deb
    - snap
    - rpm
    - tar.xz

    # - flatpak
  category: "Network;Chat;InstantMessaging;X-WhatsApp;"
  desktop:
    entry:
      Name: ElecWhat
      GenericName: WhatsApp Client
      Comment: Simple WhatsApp client

  # Register "whatsapp:" url scheme
  mimeTypes:
    - x-scheme-handler/whatsapp

publish:
  - github

snap:
  title: ElecWhat
  description: |
    Simple Whatsapp client for linux
  publish:
    - github
    - snapStore
  slots:
    dbus-svc:
      interface: dbus
      bus: session
      name: "fr.carru.elecwhat"
  plugs:
    # Electron app from https://snapcraft.io/docs/desktop-interfaces
    desktop:
    desktop-legacy:
    wayland:
    unity7:
    # alsa:
    # avahi-observe:
    browser-support:
    camera:
    # cups-control:
    gsettings:
    home:
    network:
    opengl:
    audio-playback:
    # screen-inhibit-control:
    # upower-observe:

    # additional
    dbus:
    x11:
    pulseaudio:
    audio-record:
